"use strict";!function(e){e.module("sistemiumBootstrap.config",[]).value("sistemiumBootstrap.config",{debug:!0}),e.module("sistemiumBootstrap.dependencies",["ui.bootstrap","ngTable"]),e.module("sistemiumBootstrap.directives",[]),e.module("sistemiumBootstrap.filters",[]),e.module("sistemiumBootstrap.services",[]),e.module("sistemiumBootstrap",["sistemiumBootstrap.dependencies","sistemiumBootstrap.config","sistemiumBootstrap.directives","sistemiumBootstrap.filters","sistemiumBootstrap.services"])}(angular),function(){angular.module("sistemiumBootstrap.services").service("sabErrors",function(){function e(e,t){var r=e&&e.data&&e.data.length>0&&e.data||[e];r.forEach(function(e){s.push({type:"danger",msg:e.message||e||n.unknown(t)})})}function t(t){e(t)}function r(){s.splice(0,s.length)}var s=[],n={unknown:function(e){switch(e||"en"){case"en":return"Unknown error";case"ru":return"Неизвестная ошибка"}}};return{addError:t,clear:r,errors:s,ru:{add:function(t){e(t,"ru")}}}})}(),function(){angular.module("sistemiumBootstrap.services").service("sabNgTable",function(e){function t(e){var t={"x-page-size:":e&&e.count()||12,"x-start-page:":e&&e.page()||1};if(e&&e.sorting()){var r=_.reduce(e.sorting(),function(e,t,r){return e+","+("desc"===t?"-":"")+r},"").substr(1);r&&(t["x-order-by:"]=r)}return t}function r(e,r){return function(a,i){var u,c,l=t(i),d=!o||_.get(l,"searchFor:")!==_.get(s,"searchFor:");d&&(u=r.getCount(_.pick(l,["searchFor:","searchFields:"])).then(function(t){return e.ngTableParams.total(o=t),t<(i.page()-1)*i.count()&&(l["x-start-page:"]=1,c=1),l}),u.catch(function(){a.reject()}));var m=function(){var t=l;return _.matches(t)(e.lastFindAllParams)&&_.matches(e.lastFindAllParams)(t)?(c&&i.page(c),a.resolve(n),void 0):r.findAll(t,{bypassCache:!0}).then(function(e){c&&i.page(c),s=t,n=e,a.resolve(n)},function(){a.reject()})};e.busy=u?u.then(m):m(l)}}var s={},n=[],o=0;return{setup:function(t,s){var o=!t.ngTable.noPages&&(t.ngTable.counts||[12,25,50,100]),a=t.ngTable.count||12;return o.indexOf(a)<0&&(o.push(a),o=_.sortBy(o)),t.ngTableParams=new e(angular.extend({page:1,count:a,clearData:function(){n=[]}},t.ngTable),{filterDelay:0,dataset:n,counts:o,getData:r(t,s)}),t.ngTableParams},ngTableToV4Params:t}})}(),function(){angular.module("sistemiumBootstrap.directives").directive("sabErrorWidget",function(){return{restrict:"AC",templateUrl:"sistemium-angular-bootstrap/directives/sabErrorWidget.html",controllerAs:"dm",controller:function(e){var t=this;t.errors=e.errors,t.closeError=function(e){t.errors.splice(e,1)}}}})}(),function(){angular.module("sistemiumBootstrap.directives").directive("sabInputWithAddon",function(){return{restrict:"AC",templateUrl:"sistemium-angular-bootstrap/directives/sabInputWithAddon.html",replace:!0,scope:{sabSelectModel:"=",sabInputModel:"=",sabLabelProp:"@",sabValueProp:"@",sabSelectOptions:"=",required:"@"},controller:function(e){var t=this;t.setActiveItem=function(t){e.sabSelectModel=t}},controllerAs:"vm"}})}(),function(){angular.module("sistemiumBootstrap").run(["$templateCache",function(e){e.put("sistemium-angular-bootstrap/directives/sabErrorWidget/sabErrorWidget.html",'<div ng-show="dm.errors.length"><uib-alert ng-repeat="error in dm.errors" type="{{error.type}}" close="dm.closeError($index)">{{error.msg}}</uib-alert></div>'),e.put("sistemium-angular-bootstrap/directives/sabInputWithAddon/sabInputWithAddon.html",'<div class="input-group"><div uib-dropdown="uib-dropdown" is-open="vm.isOpen" class="input-group-btn"><button type="button" uib-dropdown-toggle="uib-dropdown-toggle" class="btn btn-default">{{sabSelectModel[sabLabelProp]}}</button> <span class="caret"></span><ul class="dropdown-menu"><li ng-repeat="item in sabSelectOptions"><a href="" ng-click="vm.setActiveItem(item)">{{item[sabLabelProp]}}</a></li></ul></div><input ng-model="sabInputModel" type="number" ng-required="required" class="form-control"/></div>')}])}();